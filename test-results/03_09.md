### ⚠️ This was run just to see if the test could complete; the implementation is incomplete

We're still missing:
> the check for payment processor status to avoid making requests to a slow/failing processor

The ProcessorsStatus is still hard-coded in rinha_gleam.gleam. There will be another actor checking and updating the status every 5s.

> consolidation of payment summaries across the two instances

At the moment, each instance keeps their own summaries, which is obviously inconsistent.

- general fine tuning

Little things like creating the same decoder/encoder over and over again add up, but I'll only have a look at them at the end
if I'm not happy with the performance.

```
k6 run rinha.js                                                main ✱

         /\      Grafana   /‾‾/
    /\  /  \     |\  __   /  /
   /  \/    \    | |/ /  /   ‾‾\
  /          \   |   (  |  (‾)  |
 / __________ \  |_|\_\  \_____/

     execution: local
        script: rinha.js
        output: -

     scenarios: (100.00%) 8 scenarios, 504 max VUs, 1m30s max duration (incl. graceful stop):
              * payments: Up to 500 looping VUs for 1m0s over 1 stages (gracefulRampDown: 0s, exec: payments, gracefulStop: 30s)
              * payments_consistency: 1 looping VUs for 1m0s (exec: checkPaymentsConsistency, gracefulStop: 30s)
              * stage_00: 1 looping VUs for 1s (exec: define_stage, startTime: 1s, gracefulStop: 30s)
              * stage_01: 1 looping VUs for 1s (exec: define_stage, startTime: 10s, gracefulStop: 30s)
              * stage_02: 1 looping VUs for 1s (exec: define_stage, startTime: 20s, gracefulStop: 30s)
              * stage_03: 1 looping VUs for 1s (exec: define_stage, startTime: 30s, gracefulStop: 30s)
              * stage_04: 1 looping VUs for 1s (exec: define_stage, startTime: 40s, gracefulStop: 30s)
              * stage_05: 1 looping VUs for 1s (exec: define_stage, startTime: 50s, gracefulStop: 30s)

WARN[0011] 229 inconsistências encontradas.              source=console
WARN[0021] 869 inconsistências encontradas.              source=console
WARN[0031] 1921 inconsistências encontradas.             source=console
WARN[0041] 3389 inconsistências encontradas.             source=console
WARN[0051] 5272 inconsistências encontradas.             source=console
INFO[0062] summaries from 2025-09-02T22:31:19.138Z to 2025-09-02T22:32:29.138Z  source=console
     data_received..................: 1.8 MB    30 kB/s
     data_sent......................: 3.0 MB    50 kB/s
     default_total_amount...........: 150284.8  2461.73418/s
     default_total_fee..............: 10519.936 172.321393/s
     default_total_requests.........: 7552      123.705235/s
     fallback_total_amount..........: 0         0/s
     fallback_total_fee.............: 0         0/s
     fallback_total_requests........: 0         0/s
     http_req_blocked...............: p(99)=413µs    count=15153
     http_req_connecting............: p(99)=374.47µs count=15153
     http_req_duration..............: p(99)=46.18ms  count=15153
       { expected_response:true }...: p(99)=46.19ms  count=15152
     http_req_failed................: 0.00%     ✓ 1          ✗ 15152
     http_req_receiving.............: p(99)=87µs     count=15153
     http_req_sending...............: p(99)=40.47µs  count=15153
     http_req_tls_handshaking.......: p(99)=0s       count=15153
     http_req_waiting...............: p(99)=46.15ms  count=15153
     http_reqs......................: 15153     248.213113/s
     iteration_duration.............: p(99)=1.04s    count=15115
     iterations.....................: 15115     247.590655/s
     payments_inconsistency.........: 11680     191.323775/s
     total_transactions_amount......: 150284.8  2461.73418/s
     transactions_failure...........: 0         0/s
     transactions_success...........: 15103     247.39409/s
     vus............................: 151       min=9        max=499

running (1m01.0s), 000/504 VUs, 15115 complete and 0 interrupted iterations
payments             ✓ [======================================] 000/500 VUs  1m0s
payments_consistency ✓ [======================================] 1 VUs        1m0s
stage_00             ✓ [======================================] 1 VUs        1s
stage_01             ✓ [======================================] 1 VUs        1s
stage_02             ✓ [======================================] 1 VUs        1s
stage_03             ✓ [======================================] 1 VUs        1s
stage_04             ✓ [======================================] 1 VUs        1s
stage_05             ✓ [======================================] 1 VUs        1s
```